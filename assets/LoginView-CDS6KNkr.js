import{d as h,l as w,p as u,q as y,s as g,x,o as d,b as t,j as V,f as m,h as p,a as k,t as _,g as B,y as f,m as C,r as n,_ as L}from"./index-CL5NxHxL.js";import{M}from"./MainLayout-C7APwl5I.js";const N={class:"auth-form"},S={class:"auth-form__field"},q={class:"auth-form__field"},D={key:0,class:"auth-form__error"},E=["disabled"],T={class:"auth-form__footer"},U=h({__name:"LoginView",setup(j){const v=y(),c=g(),s=n({email:"",password:""}),o=n(""),a=n(!1),b=async()=>{var l,e;o.value="",a.value=!0;try{await c.dispatch("login",s.value),v.push("/")}catch(r){o.value=((e=(l=r.response)==null?void 0:l.data)==null?void 0:e.message)||"Ошибка входа"}finally{a.value=!1}};return(l,e)=>{const r=x("router-link");return d(),w(M,null,{default:u(()=>[t("div",N,[e[6]||(e[6]=t("h2",{class:"auth-form__title"},"Вход",-1)),t("form",{onSubmit:V(b,["prevent"])},[t("div",S,[e[2]||(e[2]=t("label",null,"Email:",-1)),m(t("input",{type:"email","onUpdate:modelValue":e[0]||(e[0]=i=>s.value.email=i),required:"",placeholder:"example@mail.com"},null,512),[[p,s.value.email]])]),t("div",q,[e[3]||(e[3]=t("label",null,"Пароль:",-1)),m(t("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=i=>s.value.password=i),required:"",placeholder:"••••••••"},null,512),[[p,s.value.password]])]),o.value?(d(),k("div",D,_(o.value),1)):B("",!0),t("button",{type:"submit",class:"auth-form__btn",disabled:a.value},_(a.value?"Загрузка...":"Войти"),9,E)],32),t("div",T,[e[5]||(e[5]=f(" Нет аккаунта? ",-1)),C(r,{to:"/register"},{default:u(()=>[...e[4]||(e[4]=[f("Зарегистрироваться",-1)])]),_:1})])])]),_:1})}}}),z=L(U,[["__scopeId","data-v-3131cd8b"]]);export{z as default};
