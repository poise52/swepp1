import{d as y,l as h,p as m,o as p,b as t,j as w,f as i,h as n,a as x,t as f,g as V,y as _,m as g,r as d,x as k,q,s as B,_ as C}from"./index-DpgmPG42.js";import{M}from"./MainLayout-BzRrjVS_.js";const N={class:"auth-form"},S={class:"auth-form__field"},R={class:"auth-form__field"},U={class:"auth-form__field"},D={key:0,class:"auth-form__error"},E=["disabled"],L={class:"auth-form__footer"},T=y({__name:"RegisterView",setup(j){const v=q(),c=B(),s=d({username:"",email:"",password:""}),o=d(""),l=d(!1),b=async()=>{var r,e;o.value="",l.value=!0;try{await c.dispatch("register",s.value),v.push("/")}catch(u){o.value=((e=(r=u.response)==null?void 0:r.data)==null?void 0:e.message)||"Ошибка регистрации"}finally{l.value=!1}};return(r,e)=>{const u=k("router-link");return p(),h(M,null,{default:m(()=>[t("div",N,[e[8]||(e[8]=t("h2",{class:"auth-form__title"},"Регистрация",-1)),t("form",{onSubmit:w(b,["prevent"])},[t("div",S,[e[3]||(e[3]=t("label",null,"Имя пользователя:",-1)),i(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>s.value.username=a),required:"",placeholder:"username"},null,512),[[n,s.value.username]])]),t("div",R,[e[4]||(e[4]=t("label",null,"Email:",-1)),i(t("input",{type:"email","onUpdate:modelValue":e[1]||(e[1]=a=>s.value.email=a),required:"",placeholder:"example@mail.com"},null,512),[[n,s.value.email]])]),t("div",U,[e[5]||(e[5]=t("label",null,"Пароль:",-1)),i(t("input",{type:"password","onUpdate:modelValue":e[2]||(e[2]=a=>s.value.password=a),required:"",placeholder:"••••••••"},null,512),[[n,s.value.password]])]),o.value?(p(),x("div",D,f(o.value),1)):V("",!0),t("button",{type:"submit",class:"auth-form__btn",disabled:l.value},f(l.value?"Загрузка...":"Зарегистрироваться"),9,E)],32),t("div",L,[e[7]||(e[7]=_(" Уже есть аккаунт? ",-1)),g(u,{to:"/login"},{default:m(()=>[...e[6]||(e[6]=[_("Войти",-1)])]),_:1})])])]),_:1})}}}),A=C(T,[["__scopeId","data-v-e9befcd9"]]);export{A as default};
