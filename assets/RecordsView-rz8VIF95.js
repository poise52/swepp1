import{M as y}from"./MainLayout-C7APwl5I.js";import{api as k}from"./api-DpqGNhWg.js";import{d as g,w,z as b,l as C,p as x,r as l,o as t,b as e,a,e as m,F as f,t as o,n as B,_ as M}from"./index-CL5NxHxL.js";const R={class:"records"},L={class:"records__filters"},S=["onClick"],V={key:0,class:"records__loading"},$={key:1,class:"records__error"},z={key:2,class:"records__empty"},D={key:3,class:"records__list"},F={class:"records__rank"},I={class:"records__info"},E={class:"records__username"},N={class:"records__meta"},T={class:"records__time"},j=g({__name:"RecordsView",setup(q){const h=["Все","Новичок","Любитель","Эксперт"],i=l("Все"),_=l([]),d=l(!1),n=l(""),p=r=>{const c=Math.floor(r/60),s=r%60;return`${c}:${s.toString().padStart(2,"0")}`},u=async()=>{d.value=!0,n.value="";try{const r=i.value==="Все"?void 0:i.value,c=await k.getRecords(r,20);_.value=c.records}catch{n.value="Ошибка загрузки рекордов"}finally{d.value=!1}};return w(i,u),b(u),(r,c)=>(t(),C(y,null,{default:x(()=>[e("div",R,[c[0]||(c[0]=e("h2",{class:"records__title"},"Рекорды",-1)),e("div",L,[(t(),a(f,null,m(h,s=>e("button",{key:s,class:B(["records__filter-btn",{"records__filter-btn--active":i.value===s}]),onClick:v=>i.value=s},o(s),11,S)),64))]),d.value?(t(),a("div",V,"Загрузка...")):n.value?(t(),a("div",$,o(n.value),1)):_.value.length===0?(t(),a("div",z,"Рекордов пока нет")):(t(),a("div",D,[(t(!0),a(f,null,m(_.value,(s,v)=>(t(),a("div",{key:s.id,class:"records__item"},[e("div",F,o(v+1),1),e("div",I,[e("div",E,o(s.userId),1),e("div",N,o(s.cols)+"×"+o(s.rows)+" · "+o(s.mines)+" мин ",1)]),e("div",T,o(p(s.time)),1)]))),128))]))])]),_:1}))}}),J=M(j,[["__scopeId","data-v-b25b1946"]]);export{J as default};
