import{M as k}from"./MainLayout-DkIH3z2v.js";import{api as g}from"./api-D6jzAglP.js";import{d as w,w as C,A as b,l as x,p as B,r as l,o as t,b as e,a,e as f,F as h,t as o,n as M,_ as R}from"./index-CPehmCp3.js";const L={class:"records"},S={class:"records__filters"},V=["onClick"],$={key:0,class:"records__loading"},D={key:1,class:"records__error"},F={key:2,class:"records__empty"},z={key:3,class:"records__list"},A={class:"records__rank"},E={class:"records__info"},I={class:"records__username"},N={class:"records__meta"},T={class:"records__time"},j=w({__name:"RecordsView",setup(q){const p=["Все","Новичок","Любитель","Эксперт"],n=l("Все"),_=l([]),d=l(!1),i=l(""),y=r=>{const c=Math.floor(r/60),s=r%60;return`${c}:${s.toString().padStart(2,"0")}`},u=async()=>{d.value=!0,i.value="";try{const r=n.value==="Все"?void 0:n.value,c=await g.getRecords(r,20);_.value=c.records}catch{i.value="Ошибка загрузки рекордов"}finally{d.value=!1}};return C(n,u),b(u),(r,c)=>(t(),x(k,null,{default:B(()=>[e("div",L,[c[0]||(c[0]=e("h2",{class:"records__title"},"Рекорды",-1)),e("div",S,[(t(),a(h,null,f(p,s=>e("button",{key:s,class:M(["records__filter-btn",{"records__filter-btn--active":n.value===s}]),onClick:v=>n.value=s},o(s),11,V)),64))]),d.value?(t(),a("div",$,"Загрузка...")):i.value?(t(),a("div",D,o(i.value),1)):_.value.length===0?(t(),a("div",F,"Рекордов пока нет")):(t(),a("div",z,[(t(!0),a(h,null,f(_.value,(s,v)=>{var m;return t(),a("div",{key:s.id,class:"records__item"},[e("div",A,o(v+1),1),e("div",E,[e("div",I,o(((m=s.user)==null?void 0:m.username)||"Аноним"),1),e("div",N,o(s.cols)+"×"+o(s.rows)+" · "+o(s.mines)+" мин ",1)]),e("div",T,o(y(s.time)),1)])}),128))]))])]),_:1}))}}),K=R(j,[["__scopeId","data-v-522e4693"]]);export{K as default};
