import{w as T,r as x,d as C,a as d,b as a,m as l,p as n,u as _,t as y,F as p,B as A,c as k,y as B,z as r,q as E,x as I,o as m,_ as M}from"./index-CPehmCp3.js";const f="minesweeper-theme",L=()=>{const o=localStorage.getItem(f);return o==="light"||o==="dark"?o:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},i=x(L());function N(){const o=()=>{i.value=i.value==="light"?"dark":"light"},c=e=>{i.value=e};return T(i,e=>{localStorage.setItem(f,e),document.documentElement.setAttribute("data-theme",e)},{immediate:!0}),{theme:i,toggleTheme:o,setTheme:c}}const V={class:"layout"},F={class:"layout__nav"},R={class:"layout__nav-left"},U={class:"layout__nav-right"},q=["title"],z={class:"layout__main"},D=C({__name:"MainLayout",setup(o){const c=E(),e=I(),{theme:g,toggleTheme:h}=N(),v=k(()=>e.getters.isAuthenticated),b=k(()=>e.getters.currentUser),w=async()=>{await e.dispatch("logout"),c.push("/login")};return(S,t)=>{const s=B("router-link");return m(),d("div",V,[a("nav",F,[a("div",R,[l(s,{to:"/",class:"layout__logo"},{default:n(()=>[...t[1]||(t[1]=[r("–°–∞–ø—ë—Ä",-1)])]),_:1}),l(s,{to:"/records",class:"layout__link"},{default:n(()=>[...t[2]||(t[2]=[r("–†–µ–∫–æ—Ä–¥—ã",-1)])]),_:1}),l(s,{to:"/help",class:"layout__link"},{default:n(()=>[...t[3]||(t[3]=[r("–°–ø—Ä–∞–≤–∫–∞",-1)])]),_:1})]),a("div",U,[a("button",{class:"layout__theme-btn",onClick:t[0]||(t[0]=(...u)=>_(h)&&_(h)(...u)),title:_(g)==="light"?"–¢—ë–º–Ω–∞—è —Ç–µ–º–∞":"–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞"},y(_(g)==="light"?"üåô":"‚òÄÔ∏è"),9,q),v.value?(m(),d(p,{key:0},[l(s,{to:"/profile",class:"layout__link"},{default:n(()=>{var u;return[r(y((u=b.value)==null?void 0:u.username),1)]}),_:1}),a("button",{onClick:w,class:"layout__link layout__link--btn"},"–í—ã—Ö–æ–¥")],64)):(m(),d(p,{key:1},[l(s,{to:"/login",class:"layout__link"},{default:n(()=>[...t[4]||(t[4]=[r("–í—Ö–æ–¥",-1)])]),_:1}),l(s,{to:"/register",class:"layout__link"},{default:n(()=>[...t[5]||(t[5]=[r("–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è",-1)])]),_:1})],64))])]),a("main",z,[A(S.$slots,"default",{},void 0)])])}}}),K=M(D,[["__scopeId","data-v-d7e78dc8"]]);export{K as M,N as u};
